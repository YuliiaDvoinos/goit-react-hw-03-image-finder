{"version":3,"sources":["Components/Searchbar/Searchbar.module.css","Components/Modal/Modal.module.css","Components/Container/Container.module.css","images/search.svg","servises/images-api.js","Components/Container/Container.jsx","Components/Searchbar/Searchbar.jsx","Components/ImageGalleryItem/ImageGalleryItem.jsx","Components/ImageGallery/ImageGallery.jsx","Components/LoadMoreBtn/LoadMoreBtn.jsx","Components/Spinner/Spinner.jsx","Components/Modal/Modal.jsx","App.js","index.js"],"names":["module","exports","_path","searchQuery","page","axios","get","then","response","data","hits","Container","children","className","ContainerStyles","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgSearch","_ref","svgRef","title","titleId","props","xmlns","xmlnsXlink","width","height","viewBox","ref","id","d","ForwardRef","Searchbar","state","query","handleInputChange","e","setState","currentTarget","value","handleFormSubmit","preventDefault","onSubmit","styles","SearchForm","SearchFormInput","type","autoComplete","autoFocus","placeholder","onChange","SearchFormSubmitBtn","Component","useStyles","createUseStyles","image","transition","transform","cursor","list__item","marginTop","marginRight","ImageGalleryItem","url","alt","largeImageURL","onClick","src","list","display","flexWrap","justifyContent","alignItems","padding","ImageGallery","images","map","webformatURL","tags","btn","margin","border","borderRadius","background","boxShadow","LoadMoreBtn","loadMore","loader__container","Spinner","color","timeout","modalRoot","document","querySelector","Modal","handleKeyDown","closeModal","onClose","code","handleOverlayClick","window","addEventListener","removeEventListener","createPortal","s","Overlay","App","isLoading","error","showModal","modalImageURL","toggleModal","onImgFocus","fetchImages","options","imagesApi","prevState","scrollTo","top","documentElement","scrollHeight","behavior","catch","finally","onChangeQuery","prevProps","shouldBtnRender","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.0151a260.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__Vb90F\",\"SearchFormInput\":\"Searchbar_SearchFormInput__2Ov1A\",\"SearchForm\":\"Searchbar_SearchForm__2kl99\",\"SearchFormSubmitBtn\":\"Searchbar_SearchFormSubmitBtn__yW0kv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__Cn-Hf\",\"Modal\":\"Modal_Modal__2KAo0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Container\":\"Container_Container__2KgO4\"};","var _path;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgSearch(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    width: 20,\n    height: 20,\n    viewBox: \"0 0 20 20\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M18.869 19.162l-5.943-6.484c1.339-1.401 2.075-3.233 2.075-5.178 0-2.003-0.78-3.887-2.197-5.303s-3.3-2.197-5.303-2.197-3.887 0.78-5.303 2.197-2.197 3.3-2.197 5.303 0.78 3.887 2.197 5.303 3.3 2.197 5.303 2.197c1.726 0 3.362-0.579 4.688-1.645l5.943 6.483c0.099 0.108 0.233 0.162 0.369 0.162 0.121 0 0.242-0.043 0.338-0.131 0.204-0.187 0.217-0.503 0.031-0.706zM1 7.5c0-3.584 2.916-6.5 6.5-6.5s6.5 2.916 6.5 6.5-2.916 6.5-6.5 6.5-6.5-2.916-6.5-6.5z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgSearch);\nexport default __webpack_public_path__ + \"static/media/search.ffce0bda.svg\";\nexport { ForwardRef as ReactComponent };","import axios from \"axios\";\r\n\r\nconst fetchImages = ({ searchQuery = \"\", page = 1 }) => {\r\n  return axios\r\n    .get(\r\n      `https://pixabay.com/api/?q=${searchQuery}&page=${page}&key=20729636-758ecad9be3e02f0a1d03c2f3&image_type=photo&orientation=horizontal&per_page=12`\r\n    )\r\n    .then((response) => response.data.hits);\r\n};\r\n\r\nexport default {fetchImages};\r\n","import ContainerStyles from '../Container/Container.module.css'\r\n\r\nconst Container = ({ children }) => <div className={ContainerStyles.Container}>{children}</div>;\r\n\r\nexport default Container;","import { Component } from \"react\";\r\nimport { ReactComponent as SearchIcon } from \"../../images/search.svg\";\r\nimport styles from \"./Searchbar.module.css\";\r\n\r\nclass Searchbar extends Component {\r\n  state = { query: \"\" };\r\n  handleInputChange = (e) => {\r\n    this.setState({ query: e.currentTarget.value });\r\n  };\r\n\r\n  handleFormSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    this.props.onSubmit(this.state.query);\r\n    this.setState({ query: \"\" });\r\n  };\r\n  render() {\r\n    return (\r\n      <header className={styles.Searchbar}>\r\n        <form className={styles.SearchForm} onSubmit={this.handleFormSubmit}>\r\n          <input\r\n            className={styles.SearchFormInput}\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n            value={this.state.query}\r\n            onChange={this.handleInputChange}\r\n          />\r\n          <button type=\"submit\" className={styles.SearchFormSubmitBtn}>\r\n            <span className=\"SearchForm-button-label\">\r\n              <SearchIcon />\r\n            </span>\r\n          </button>\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Searchbar;\r\n","import { createUseStyles } from \"react-jss\";\r\n\r\nconst useStyles = createUseStyles({\r\n  image: {\r\n    width: 250,\r\n    height: 200,\r\n    transition: \"transform 250ms cubic-bezier(0.4, 0, 0.2, 1)\",\r\n    \"&:hover\": {\r\n      transform: \"scale(1.03)\",\r\n      cursor: \"zoom-in\",\r\n    },\r\n  },\r\n  list__item: {\r\n    marginTop: 10,\r\n    \"&:not(:nth-child(4n + 4))\": {\r\n      marginRight: 10,\r\n    },\r\n  },\r\n});\r\n\r\nconst ImageGalleryItem = ({ url, alt, largeImageURL, onClick }) => {\r\n  const styles = useStyles();\r\n\r\n  return (\r\n    <li className={styles.list__item}>\r\n      <img\r\n        src={url}\r\n        alt={alt}\r\n        className={styles.image}\r\n        onClick={() => onClick(largeImageURL)}\r\n      />\r\n    </li>\r\n  );\r\n};\r\nexport default ImageGalleryItem;\r\n","import propTypes from \"prop-types\";\r\nimport { createUseStyles } from \"react-jss\";\r\nimport ImageGalleryItem from \"../ImageGalleryItem\";\r\nconst useStyles = createUseStyles({\r\n  list: {\r\n    display: \"flex\",\r\n    flexWrap: \"wrap\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n    padding: 0,\r\n  },\r\n});\r\nconst ImageGallery = ({ images, onClick }) => {\r\n  const styles = useStyles();\r\n  return (\r\n    <ul className={styles.list}>\r\n      {images.map(({ id, webformatURL, tags, largeImageURL }) => {\r\n        return (\r\n          <ImageGalleryItem\r\n            key={id}\r\n            url={webformatURL}\r\n            alt={tags}\r\n            onClick={onClick}\r\n            largeImageURL={largeImageURL}\r\n          />\r\n        );\r\n      })}\r\n    </ul>\r\n  );\r\n};\r\n\r\nImageGallery.propTypes = {\r\n  images: propTypes.arrayOf(\r\n    propTypes.shape({\r\n      id: propTypes.number.isRequired,\r\n    })\r\n  ),\r\n};\r\n\r\nexport default ImageGallery;\r\n","import { createUseStyles } from \"react-jss\";\r\nconst useStyles = createUseStyles({\r\n  btn: {\r\n    display: \"block\",\r\n    margin: \"0 auto\",\r\n    width: 100,\r\n    height: 40,\r\n    border: \"1px solid gray\",\r\n    borderRadius: 4,\r\n    background: \"transparent\",\r\n    cursor: \"pointer\",\r\n    boxShadow: '0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12)',\r\n    \"&:hover\": {\r\n      background: \"bisque\",\r\n    },\r\n  },\r\n});\r\nconst LoadMoreBtn = ({ loadMore }) => {\r\n  const styles = useStyles();\r\n  return (\r\n    <button type=\"button\" onClick={loadMore} className={styles.btn}>\r\n      Load more\r\n    </button>\r\n  );\r\n};\r\nexport default LoadMoreBtn;\r\n","import Loader from \"react-loader-spinner\";\r\nimport { createUseStyles } from \"react-jss\";\r\nconst useStyles = createUseStyles({\r\n  loader__container: {\r\n    width: 100,\r\n    margin: '0 auto'\r\n  }\r\n});\r\nconst Spinner = () => {\r\n  const styles = useStyles()\r\n  return (\r\n    <div className={styles.loader__container}>\r\n      <Loader\r\n        type=\"Bars\"\r\n        color=\"bisque\"\r\n        height={100}\r\n        width={100}\r\n      timeout={3000} //3 secs\r\n      />\r\n    </div>)\r\n};\r\n\r\nexport default Spinner;\r\n\r\n// export default class Spinner extends Component {\r\n  \r\n//   render() {\r\n//     return (\r\n//       <div className=\"loader__container\">\r\n//         <Loader\r\n//         type=\"Bars\"\r\n//         color=\"#00BFFF\"\r\n//         height={100}\r\n//         width={100}\r\n//         // timeout={3000} //3 secs\r\n//       />\r\n//       </div>\r\n//     );\r\n//   }\r\n// };\r\n\r\n","import { Component } from \"react\";\r\nimport { createPortal } from \"react-dom\";\r\nimport s from \"./Modal.module.css\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst modalRoot = document.querySelector(\"#modal-root\");\r\n\r\nclass Modal extends Component {\r\n  state = {};\r\n\r\n  componentDidMount() {\r\n    window.addEventListener(\"keydown\", this.handleKeyDown);\r\n  }\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"keydown\", this.handleKeyDown);\r\n  }\r\n\r\n  handleKeyDown = (e) => {\r\n    const closeModal = this.props.onClose;\r\n    if (e.code === \"Escape\") {\r\n      closeModal();\r\n    }\r\n  };\r\n\r\n  handleOverlayClick = (e) => {\r\n    const closeModal = this.props.onClose;\r\n    if (e.currentTarget === e.target) {\r\n      closeModal();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return createPortal(\r\n      <div className={s.Overlay} onClick={this.handleOverlayClick}>\r\n        <div className={s.Modal}>{this.props.children}</div>\r\n      </div>,\r\n      modalRoot\r\n    );\r\n  }\r\n}\r\n\r\nModal.propTypes = {\r\n  onClose: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Modal;\r\n","import { Component } from \"react\";\r\n\r\nimport imagesApi from \"./servises/images-api\";\r\nimport Container from \"./Components/Container/Container\";\r\nimport Searchbar from \"./Components/Searchbar\";\r\nimport ImageGallery from \"./Components/ImageGallery\";\r\nimport LoadMoreBtn from \"./Components/LoadMoreBtn\";\r\nimport Spinner from \"./Components/Spinner\";\r\nimport Modal from \"./Components/Modal\";\r\n\r\nclass App extends Component {\r\n  state = {\r\n    images: [],\r\n    page: 1,\r\n    searchQuery: \"\",\r\n    isLoading: false,\r\n    error: null,\r\n    showModal: false,\r\n    modalImageURL: \"\",\r\n  };\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (prevState.searchQuery !== this.state.searchQuery) {\r\n      this.fetchImages();\r\n    }\r\n  }\r\n  toggleModal = () => {\r\n    this.setState(({ showModal }) => ({ showModal: !showModal }));\r\n  };\r\n  onImgFocus = (url) => {\r\n    this.setState({ modalImageURL: url });\r\n    this.toggleModal();\r\n  };\r\n  fetchImages = () => {\r\n    const { page, searchQuery } = this.state;\r\n    const options = { searchQuery, page };\r\n    this.setState({ isLoading: true });\r\n    imagesApi\r\n      .fetchImages(options)\r\n      .then((images) => {\r\n        this.setState((prevState) => ({\r\n          images: [...prevState.images, ...images],\r\n          page: prevState.page + 1,\r\n        }));\r\n      })\r\n      .then(() => {\r\n        window.scrollTo({\r\n          top: document.documentElement.scrollHeight,\r\n          behavior: \"smooth\",\r\n        });\r\n      })\r\n      .catch((error) => this.setState({ error }))\r\n      .finally(() => this.setState({ isLoading: false }));\r\n  };\r\n\r\n  onChangeQuery = (query) => {\r\n    this.setState({\r\n      searchQuery: query,\r\n      page: 1,\r\n      images: [],\r\n      error: null,\r\n    });\r\n    // this.fetchImages();\r\n  };\r\n\r\n  render() {\r\n    const { images, isLoading, error, showModal, modalImageURL } = this.state;\r\n    const shouldBtnRender = images.length > 0 && !isLoading;\r\n    return (\r\n      <div className=\"App\">\r\n        {showModal && (\r\n          <Modal onClose={this.toggleModal}>\r\n            <img src={modalImageURL} />\r\n          </Modal>\r\n        )}\r\n        <Container>\r\n          <>\r\n            <Searchbar onSubmit={this.onChangeQuery} />\r\n            {error && <h2>error {error}</h2>}\r\n\r\n            <ImageGallery images={images} onClick={this.onImgFocus} />\r\n\r\n            {isLoading && <Spinner />}\r\n            {shouldBtnRender && <LoadMoreBtn loadMore={this.fetchImages} />}\r\n          </>\r\n        </Container>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}